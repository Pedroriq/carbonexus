<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>CarboNexus</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style/style.css') }}">
</head>

<body>
    <main>
        <div class="container">

            <header>
                <img src="{{ url_for('static', filename='images/carbonexus_title.svg') }}" alt="CarboNexus" class="title-img">
            </header>

            <section class="information">
                <form action="/submit" method="POST">
                    <div class="form-group">
                        <label for="git-url">Github URL: </label>
                        <input type="url" id="git-url" name="git-url" required placeholder="https://github.com/YourNickname/YourRepoository.git">
                    </div>

                    <div class="form-group">
                        <label for="country">País: </label>
                        <input type="text" id="country" name="country" required placeholder="País">
                    </div>

                    <button type="submit">Iniciar treinamento</button>
                </form>
            </section>
        </div>
    </main>
</body>

<script>
    async function getRequest(url = '') {
    const response = await fetch(url, {
        method: 'GET',
        cache: 'no-cache'
    })
    return response.json()
    }
    document.addEventListener('DOMContentLoaded', function () {
        let url = document.location
        let route = "/flaskwebgui-keep-server-alive"
        let interval_request = 3 * 1000 //sec
        function keep_alive_server() {
            getRequest(url + route)
                .then(data => console.log(data))
        }
        setInterval(keep_alive_server, interval_request)()
    })
</script>
</html>
